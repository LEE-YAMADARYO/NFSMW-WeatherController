# NFSMW-WeatherController
此 ASI 插件用于控制 NFSMW 的天气与时间系统<br>

编译完成的 ASI 已在 Release 发布，您需要先安装 Ultimate ASI Loader 才可使用它<br>
将下载好的 WeatherController.asi 和 WeatherController.ini 放置游戏目录下的 Scripts 文件夹中完成安装<br>

此插件将允许玩家自由控制天气状态以及时间流逝方向与速度<br>

按键：<br>
>时间控制<br>
您需要将配置文件中时间控制总开关设置为 1 才可使用以下所有功能，包括时间循环周期<br>
小键盘 0：按下启用或关闭时间控制；仅有启用此选项时，其他的时间控制功能才得以激活<br>
小键盘 1：按住以使时间倒退<br>
小键盘 3：按住以使时间快进<br>
小键盘 2：按下切换暂停/恢复时间<br>

>天气控制<br>
小键盘 7：按下切换降雨状态，若当前为非降雨状态，则按下时启用降雨；若当前处于降雨状态，则按下时停用降雨<br>
小键盘 9：按下停用降雨并将天气控制权重新转交给游戏；同时仍然保持按键监听，使切换降雨状态功能不受影响<br>

※如果当前天气状态均为降雨时，按下小键盘 7 或 9 都可以使降雨停止，但它们的区别在于：<br>
使用小键盘 7 停止降雨时，天气控制仍然由插件托管，游戏无法自动更变降雨状态<br>
使用小键盘 9 停止降雨时，插件将天气控制权重新转交给游戏，此举是因为游戏需要处于停止降雨状态时，才能够重新获取天气控制权<br>

您可以使用 "WeatherController.ini" 配置文件自定更多参数<br>
前往："https://www.toptal.com/developers/keycode" 按下需要绑定按键查找对应的十进制代码<br>

警告：如果要与 ExtraOptions 同时使用，您必须确保 ExtraOptions 配置文件中的 "GeneralRainAmount" 值为 1，否则游戏可能会出现错误<br>
我暂且不知道为什么会出现这种情况<br>

对于其他脚本尚未测试兼容性，我无法确保此插件能够与其他脚本协同工作<br>

感谢 magrquark 告诉我正确的 Time of Day 内存偏移地址<br>
